# ---- Core HTTP ------------------------------------------------------------
PORT_BACKEND=5000
FRONTEND_ORIGIN=http://localhost:3000
NODE_ENV=production

# ---- Public Registration -------------------------------------------------
ENABLE_REGISTRATION=true
ENABLE_PASSWORD_RESET=true
REGISTRATION_REQUIRE_EMAIL_VERIFICATION=false

# ---- Supabase -------------------------------------------------------------
SUPABASE_URL=https://YOUR-PROJECT.supabase.co
SUPABASE_ANON_KEY=anon-public-key
SUPABASE_SERVICE_ROLE_KEY=service-role-key

# ---- Authentication / Crypto ---------------------------------------------
JWT_COOKIE_NAME=sb_access_token
JWT_COOKIE_SECURE=false
ENCRYPTION_KEY=32-byte-hex-key

# ---- PostgreSQL -----------------------------------------------------------
PGHOST=localhost
PGPORT=5432
PGDATABASE=postgres
PGUSER=postgres
PGPASSWORD=postgres
PGSSLMODE=no-verify

# ---- Redis ---------------------------------------------------------------
REDIS_URL=redis://:password@127.0.0.1:6379/0
CACHE_TTL_LIST=300
CACHE_TTL_CHAT=60
CACHE_TTL_MSGS=30

# ---- RabbitMQ ------------------------------------------------------------
RABBIT_URL=amqp://app:app@127.0.0.1:5672?heartbeat=30
RABBIT_PREFETCH=20
RABBIT_EXCHANGE_APP=livechat.app
RABBIT_EXCHANGE_META=livechat.meta
RABBIT_EXCHANGE_DLX=livechat.dlx
RABBIT_Q_INBOUND=q.inbound.message
RABBIT_Q_OUTBOUND=q.outbound.request
RABBIT_Q_OUTBOUND_RETRY=q.outbound.retry.10s
RABBIT_Q_OUTBOUND_DLQ=q.outbound.dlq

# ---- Media ---------------------------------------------------------------
MEDIA_DIR=/var/lib/livechat/media
MEDIA_PUBLIC_BASE=https://app.example.com/media
FILES_PUBLIC_BASE=https://app.example.com/files
MEDIA_MAX_BYTES=104857600
MEDIA_ALLOWED_MIME=image/jpeg,image/png,image/webp,application/pdf,video/mp4,audio/mpeg
MEDIA_DOWNLOAD_TIMEOUT_MS=30000
MEDIA_CONCURRENCY=4

# ---- Meta / WhatsApp -----------------------------------------------------
META_GRAPH_VERSION=v23.0
META_VERIFY_TOKEN=change-me
META_APP_SECRET=change-me
WAHA_BASE_URL=https://waha.example.com
WAHA_API_KEY=change-me
WAHA_WEBHOOK_TOKEN=change-me
WAHA_WEBHOOK_SECRET=change-me
WAHA_DB_HOST=127.0.0.1
WAHA_DB_PORT=5432
WAHA_DB_USER=postgres
WAHA_DB_PASSWORD=postgres
WAHA_DB_SSLMODE=disable

# ---- Stripe --------------------------------------------------------------
STRIPE_SECRET_KEY=sk_test_change_me
STRIPE_WEBHOOK_SECRET=whsec_change_me
STRIPE_CURRENCY=brl
STRIPE_SUCCESS_URL=${FRONTEND_ORIGIN}/subscription/success?session_id={CHECKOUT_SESSION_ID}
STRIPE_CANCEL_URL=${FRONTEND_ORIGIN}/subscription

# ---- Misc business rules -------------------------------------------------
PRODUCTS_TABLE=products
DEFAULT_LEADS_BOARD_ID=
DOCS_BUCKET=documents
VIEW_USER_AGENDA=user_agenda
VIEW_EVENTS_WITH_PARTICIPANTS=events_with_participants
TABLE_CALENDARS=calendars
TABLE_EVENTS=events
TABLE_EVENT_PARTICIPANTS=event_participants

# ---- Optional overrides --------------------------------------------------
FRONTEND_ORIGIN_EXTRA=http://localhost:5173
MEDIA_DIR_TMP=/tmp/livechat
